# Лаб 02. PHP хэл
Энэ лабораторийн ажлаар PHP хэлээр код бичих, PHP хэлээр динамик агуулга боловсруулах, HTTP гаралтыг тодорхойлох, файл холбох, хүснэгттэй ажиллах, функц тодорхойлж ашиглах, PHP-ийн зарим стандарт функцийг практикт хэрэглэх ур чадварыг эзэмших зорилготой. Үүний тулд дараах дасгал, даалгаврыг гүйцэтгэнэ.

1. [PHP хэл](#ex1)

## <a name="ex1"></a>Дасгал 1. PHP скрипт ба динамик гаралт
PHP бол вэб серверт динамик гаралтыг үүсгэх боломжийг олгодог. Гаралт нь клиентээс ирсэн хүсэлт бүрд ихэвчлэн өөр өөр байдаг. PHP хэлээр бичсэн скрипт код дангаар эсвэл HTML кодтой холилдсон байж болно. Гэхдээ кодыг агуулж байгаа файлын өргөтгөл `.php` байх ёстой. Учир нь вэб серверт ирсэн хүсэлт `.php` файлыг зааж байгаа бол вэб сервер PHP кодыг агуулсан файл гэж үзээд "PHP хөрвүүлэгч" програмд дамжуулдаг байна. Мэдээж вэб серверт илүү нарийн тохиргоо хийж файлын энэ өргөтгөлийг солих боломжтой. `.php` өргөтгөлтэй файлыг PHP вэб хуудас гэж ойлгож болно.

PHP скрипт код ажиллаад вэб хөтөч програм дэлгэцлэхэд тохиромжтой агуулгыг вэб серверт буцааж өгдөг. Харин вэб серверийг үүнийг вэб хөтчид буцааж өгнө. Энэ нь ихэвчлэн HTML агуулга байдаг. PHP кодыг нээх `<?php` таг болон хаах `?>` таг дотор бичээд дан HTML агуулга буцааж өгдөг байхаа програмчилж болно. Эсвэл зөвхөн динамик скрипт шаардлагатай байгаа газарт хэсэгчилсэн PHP кодыг дээрх тагийг ашиглан бичээд бусдыг нь стандарт HTML кодоор үлдээж болно. Өмнөх лабораторийн ажилд үзүүлсэн [PHP кодыг](lab01-webserver.md#code2) үзнэ үү. Эсвэл PHP болон HTML кодыг тус тусад нь файлд бичээд холбож ашиглах аргыг хэрэглэж болно. Энэ тохиолдолд скрипт код болон HTML код хоёрыг тус тусад салгаж бичих бөгөөд ингэснээр нэг файлд олон төрлийн код бичихээс сэргийлж програмын кодыг илүү цэвэрхэн, бас ээдрээгүй болгож өгнө. Хэрэв PHP кодыг дангаар нь нэг файлд бичих бол нээх, хаах таг шаардлагагүй.



## Дасгал 2. PHP хэл

Вэб хуудасны кодыг PHP хэлээр хамгийн хялбар зохион байгуулах нэг арга бол кодыг хэсэгчилж функцэд хувааж хадгалах юм. Энэ даалгавраар

[1] номын 5-р бүлгийн бүх сэдвийг уншиж жишээ кодыг ажиллуулж үзнэ. Номоос хуулбарлах (copy & paste) биш өөрийн гараар кодыг дуурайж бичих нь зүйтэй.
> **Санамж:** 

## Дасгал 3.	
[1] номын 6-р бүлгийн бүх сэдвийг уншиж жишээг ажиллуулж үзнэ. Кодыг зөвхөн өөрийн гараар бич. Бүлгийн асуултад хариулж бич.

## Даалгавар 1.	
Оюутны хичээл сонголтын вэб хуудасны PHP скриптийг дараах шаардлагын дагуу бич.
1.	Олон оюутныг мэдээллийг хадгалах хүснэгт үүсгэх бөгөөд нэг элементэд нэг оюутны мэдээллийг овог, нэр, SISI ID, мэргэжлийн хөтөлбөр, сонгосон хичээл гэх мэт 5 өөр шинжээр (элемент) хадгална. Сонгосон хичээл элемент нь бас хүснэгт байх бөгөөд хичээл бүр нь хичээлийн нэр, индекс, багц цаг зэрэг 3 элементтэй байна.
2.	Оюутны хүснэгт, оюутны нэрийг параметр болгон авдаг, оюутны нэрээр хайж тухайн оюутны SISI ID болон нэрийг буцаадаг функц бич. Оюутны хүснэгтэд бүртгэлтэй SISI ID-г параметрт дамжуулж функцийг шалгана.
3.	Мөн SISI ID болон сонгосон хичээлүүдийг параметртээ авч оюутны мэдээллийг хадгалах хүснэгтэд шинэчилж оруулдаг функц бич. Энэ функцийг дуудаж ажиллуулахдаа тогтмол утгаар шаардлагатай хүснэгтэн хувьсагчийг үүсгэж параметр болгон өөрчилнө.
4.	Оюутны хүснэгтийг параметртээ авч бүх оюутны мэдээллийг харгалзах сонгосон хичээлүүдтэй хамт жагсаан харуулах HTML кодыг үүсгэдэг функц бич. Жагсаан харуулахдаа оюутны нэрээр А-Я үсгийн дарааллаар эрэмбэлж харуулна. Үүний тулд хүснэгтийн утгуудыг эрэмбэлэх нэргүй (anonymous function - [2] номын 74-р хуудас, 134-139-р хуудас) функцийг ашигла. usort, uasort, uksort функцүүдийг судлах шаардлагатай.
Энэ даалгаварт ямар нэг байдлаар хэрэглэгчээс утга авах шаардлагагүй. Функцийн ажиллагааг шалгахын тулд тогтмол утгууд өгөх хэрэгтэй. Скрипт оюутны мэдээллийг хүснэгтэн хувьсагчид авсны дараа эдгээр функцүүд ажиллаж байгаа гэж үзье.
## Ном зүй
[1] Robin Nixon, Learning PHP, MySQL, JavaScript, CSS & HTML5, 3rd Edition, 2014, 729 pages, ISBN: 978-1-491-94946-7
[2] Kevin Tatroe, Peter MacIntyre, Rasmus Lerdorf, Programming PHP, 3rd Edition, 2013, 540 pages, ISBN: 978-1-4493-9277-2
