# ЛАБ 01. Вэб сервер
Энэ лабораторын ажлаар хөгжүүлэлтийн вэб сервер програм суулгах, тохируулах, хөгжүүлэлтийн орчныг бэлдэх, FTP (File Transfer Protocol) ашиглан вэб сайтын файлыг алсаас удирдах, суулгаж ажиллуулна. Дараах дасгал, даалгаврыг гүйцэтгэнэ.
1.	Apache HTTP server, PHP суулгаж ажиллуулах
2.	Энгийн вэб хуудас бичиж ажиллуулах
3.	FTP ашиглан алсаас вэб хөгжүүлэлт хийх
4.	Олон вэб ажиллуулах тохиргоо хийх

## 1. Apache HTTP server, PHP суулгаж ажиллуулах
### Дасгал 1. Вэб сервер суулгах
Динамик вэб сайт, вэб програмыг ажиллуулахад HTTP сервер (жишээ нь, Apache HTTP Server), сервер талын вэб програмчлалын хэл (жишээ нь, PHP), өгөгдлийн сангийн менежмент систем (жишээ нь, MySQL) зэрэг програм хангамжийг ашигладаг. Жишээгээр дурдсан эдгээр програмыг багцалсан WAMP (Windows Apache MySQL and PHP), XAMPP, MAMP зэрэг суулгац програмаар нэг дор суулгаж тохируулах боломж бий. Эсвэл [https://httpd.apache.org/](https://httpd.apache.org/), [http://php.net/](http://php.net/), [https://www.mysql.com/](https://www.mysql.com/) зэрэг вэб сайтуудаас тус тусад нь татаж аваад суулгаж болно. Apache HTTP Server болон MySQL програм хангамжууд нь үйлдлийн системд тогтмол ажиллах сервис төрлийн програм учир дээрх програмыг суулгасны дараа сервисүүдийг асаах (start) шаардлагатай байдаг. Хэрэв вэб сервер ассан бол вэб хөтчөөсөө [http://localhost/](http://localhost/) хаягаар хандан вэб сервер зөв ажиллаж байгаа эсэхийг шалгаж болно. localhost нь тухайн серверийг өөрийг нь зааж байгаа хост нэр юм. Эсвэл энэ нэрэнд харгалзах 127.0.0.1 IP хаягийг оронд нь ашиглаж болно.

*Порт* Хэрэв сервер компьютер дээр өөр вэб сервер програм суусан, 80 дугаар портыг ашиглаж байгаа бол Apache HTTP Server програмын ажиллах портыг зөрүүлж тохируулах/эсвэл тэр сервер програмын портыг өөрчлөх шаардлагатай. Учир нь TCP/IP холболтын үед нэг програм нэг портыг ашиглан холболт үүсгэх боломжтой байдаг. Apache HTTP серверийн ашиглах портыг тохиргооны файлд өөрчилж болно. Жишээ нь, WAMP програмын хувьд `c:/wamp/bin/apache[version]/config/httpd.conf` файлын `Listen 80` мөрийг `Listen 8080` болгон өөрчлөөд сервисээ дахин асаана. Энэ тохиолдолд вэб хөтчөөс http://localhost:8080/ хаягаар Apache HTTP серверт хандана.

Дараах дасгалыг гүйцэтгэнэ.
1.	Apache HTTP сервер суулгаж ажиллуулах
2.	Энэ даалгавраар энэ портыг 8080 болгон өөрчилж тохируулах

### Дасгал 2. Энгийн PHP хуудас	
Код 1-д харуулсан PHP хуудсыг үүсгэн вэб сайтын үндсэн хавтаст (root directory) хуулж вэб хөтчөөс дуудаж ажиллуулна. WAMP серверийн хувьд c:/wamp/www хавтас вэб сайтын үндсэн хавтас болдог. Зарим серверийн хувьд htdocs нэртэй байна. Файлын нэрийг index.php гэж хадгална.

```html
<!DOCTYPE html>
<!-- index.php -->
<html>
  <head>
   <meta charset="UTF-8">
  </head>
  <body>
    <p>Энэ бол статик агуулга</p>
    <?php echo "PHP скриптээр үүсгэсэн динамик агуулга"; ?>
  </body>
</html>

```

Энэ вэб хуудсыг вэб хөтчөөс дуудаж ажиллуулахдаа http://localhost:8080/index.php гэж HTTP серверт хүсэлт илгээнэ. Вэб сервер index.html, index.php гэх мэт нэртэй файлыг нүүр хуудас гэж үздэг бөгөөд вэб клиентээс http://localhost:8081/ гэж хүсэхэд автоматаар эдгээр хуудсуудын аль нэгийг заасан эрэмбийн дагуу буцааж хариулдаг. Вэб хөтчийн Developer Tools->Network хэрэгслээр вэб хөтчөөс тавьсан хүсэлт, вэб серверээс хариулсан хариултын ажиглаж HTTP толгой утгуудтай танилцаж тус бүрийн хувьд тайлбар бичнэ.

### Дасгал 3. Олон вэб сайт
Нэг вэб сервер олон вэб сайтыг нэг домэйн болон порт дээр ажиллуулах боломжтой байдаг. Энэ боломжийг виртуал хост, виртуал директор (virtual directory) хангаж өгдөг. Виртуал директор нь URL дээрх хуурмаг зам бөгөөд тухайн зам вэб сервер дээрх өөр замыг (үндсэн хавтсаас өөр) заадаг. Хэрэв Виндоус үйлдлийн систем дээр ажиллаж байгаа бол D:/myweb директорыг виртуал директороор зааж өгсөн бол http://localhost:8081/myweb гэж хандахад D:/myweb директорт байгаа вэб сайтыг заана гэсэн үг. Өмнө хадгалсан index.php хуудсыг энэ хавтаст хуулж ажиллуулж үзнэ.

### Дасгал 4.	
Вэб төслийг ихэнх тохиолдолд багаар гүйцэтгэдэг. Багаар хамтарч нэг вэб програм хөгжүүлэхийн тулд дундаа хөгжүүлэлтийн сервер (development server) ашигладаг. Хөгжүүлэлтийн сервер нь төслийн багийн хөгжүүлж буй кодуудыг нэг дор хадгалах, сервер орчинд нь ажиллуулж туршихад хэрэглэнэ. Иймд хөгжүүлэлтийн сервер дээрх бичсэн кодоо хуулахад кодыг хувилбаржуулах систем (code versioning system) ашигладаг бөгөөд өргөн ашигладаг програмууд бол SVN, Git зэрэг юм. Ер нь вэб програм хөгжүүлэхэд ганцаар ажиллаж байсан ч ийм програмыг хэрэглэж дадах хэрэгтэй. Хэрэв та Виндоус үйлдлийн системтэй бол TortoiseSVN програмыг, Линакс үйлдлийн системтэй бол GitLab програмыг суулгаж энэ хичээлийн лабораторын хичээлээр хөгжүүлэх вэб програмын кодыг хувилбаржуулаарай.
Вэб сайтыг бүхлээр хуулах, алс зайнаас вэб сайтын үндсэн хавтсыг удирдахад FTP ашигладаг ба FTP сервер програм суулгаж хэрэглэгчийн эрх, хандах хавтас, түүний тохиргоог зааж өгснөөр FTP клиент програмаас хандан хавтсыг бүрэн удирдаж болно. FileZilla Server болон Client програмуудыг нь суулгаж вэб сайтын үндсэн хавтсыг FTP хандалттай болгоорой.