# ЛАБ 01. Вэб сервер

Энэ лабораторын ажлаар хөгжүүлэлтийн вэб сервер програм суулгах, тохируулах, хөгжүүлэлтийн орчныг бэлдэх, FTP (File Transfer Protocol) ашиглан вэб сайтын файлыг алсаас удирдах, суулгаж ажиллуулна. Дараах дасгал, даалгаврыг гүйцэтгэнэ.
1.	Apache HTTP server, PHP суулгаж ажиллуулах
2.	Нүүр хуудас ажиллуулж турших
3.	FTP сервер суулгаж алсаас вэб хөгжүүлэлт хийх
4.	Нэг сервер дээр олон вэб ажиллуулах Virtual Directory (alias) үүсгэх
Дасгал 1.	Вэб сайт/програмыг ажиллуулахад Apache HTTP Server, PHP, MySQL зэрэг програмуудыг ашиглаж болно. Эдгээр програмыг багцалсан WAMP, LAMP, MAMP зэрэг суулгац (install) програмууд бий. Жишээ нь, Виндоус үйлдлийн системд WAMP (Windows Apache MySQL PHP) програмыг хялбархан суулгаж болно. Өөр XAMPP гэх програм бас бий. Эсвэл https://httpd.apache.org/, http://php.net/, https://www.mysql.com/ зэрэг вэб сайтуудаас тус тусад нь татаж аваад суулгаж болно. Apache HTTP Server болон MySQL програм хангамжууд нь үйлдлийн системд тасралтгүй ажиллах сервис төрлийн програм учир дээрх програмыг суулгасны дараа сервисүүдийг асаах (start) шаардлагатай. Дараа нь вэб хөтчөөсөө http://localhost/ гэж хандан ажиллаж байгаа эсэхийг шалгаарай.

Порт. Хэрэв сервер компьютер дээр өөр вэб сервер програм суусан, 80 дугаар портыг ашиглаж байгаа бол Apache HTTP Server програмын ажиллах портыг зөрүүлж тохируулах/эсвэл тэр сервер програмын портыг өөрчлөх шаардлагатай. Учир нь TCP/IP холболтын үед нэг програм нэг портыг ашиглан холболт үүсгэх боломжтой байдаг. Apache HTTP серверийн ашиглах портыг 8080 болгон өөрчлөхийн тулд c:/wamp/bin/apache[version]/config/httpd.conf файлд Listen 80 мөрийг Listen 8080 болгон өөрчлөөд сервисээ дахин асаана. Хэрэв өөрчилсөн бол вэб хөтчөөс http://localhost:8080/ хаягаар Apache HTTP серверт хандана.
1.	Apache HTTP сервер суулгаж ажиллуул
2.	Энэ даалгавраар энэ портыг 8081 болгон өөрчилж ажиллуул.
Дасгал 2.	Код 1-д харуулсан PHP хуудсыг үүсгэн вэб сайтын үндсэн хавтаст (root directory) хуулж вэб хөтчөөс дуудаж ажиллуулна. WAMP серверийн хувьд c:/wamp/www хавтас вэб сайтын үндсэн хавтас болдог.
Код 1. Энгийн PHP хуудас
:: <html>
  <body>
    <p>A static HTML content</p>
    <?php echo "result of PHP script" ?> 
  </body>
</html>
Вэб хөтчөөс дуудаж ажиллуулахдаа http://localhost:8081/index.php гэж HTTP серверт хүсэлт илгээнэ. Вэб сервер index.html, index.php гэх мэт нэртэй файлыг нүүр хуудас гэж үздэг бөгөөд вэб клиентээс http://localhost:8081/ гэж хүсэхэд автоматаар эдгээр хуудсуудын аль нэгийг заасан эрэмбийн дагуу буцааж хариулдаг. Вэб хөтчийн Developer Tools->Network хэрэгслээр вэб хөтчөөс тавьсан хүсэлт, вэб серверээс хариулсан хариултын ажиглаж HTTP толгой утгуудыг судал.
Дасгал 3.	Вэб сервер олон вэб сайтыг нэг домэйн болон порт дээр ажиллуулах боломжтой байдаг. Энэ боломжийг виртуал директор (virtual directory) хангаж өгдөг. Виртуал директор нь URL дээрх хуурмаг зам бөгөөд тухайн зам вэб сервер дээрх өөр замыг (үндсэн хавтсаас өөр) заадаг. Хэрэв Виндоус үйлдлийн систем дээр ажиллаж байгаа бол D:/myweb хавтсыг виртуал директороор зааж өгсөн бол http://localhost:8081/myweb гэж хандахад D:/myweb хавтаст байгаа вэб сайтыг заана гэсэн үг. Өмнө хадгалсан index.php хуудсыг энэ хавтастаа хуулж байгаад хандаж үзээрэй.
Дасгал 4.	Вэб төслийг ихэнх тохиолдолд багаар гүйцэтгэдэг. Багаар хамтарч нэг вэб програм хөгжүүлэхийн тулд дундаа хөгжүүлэлтийн сервер (development server) ашигладаг. Хөгжүүлэлтийн сервер нь төслийн багийн хөгжүүлж буй кодуудыг нэг дор хадгалах, сервер орчинд нь ажиллуулж туршихад хэрэглэнэ. Иймд хөгжүүлэлтийн сервер дээрх бичсэн кодоо хуулахад кодыг хувилбаржуулах систем (code versioning system) ашигладаг бөгөөд өргөн ашигладаг програмууд бол SVN, Git зэрэг юм. Ер нь вэб програм хөгжүүлэхэд ганцаар ажиллаж байсан ч ийм програмыг хэрэглэж дадах хэрэгтэй. Хэрэв та Виндоус үйлдлийн системтэй бол TortoiseSVN програмыг, Линакс үйлдлийн системтэй бол GitLab програмыг суулгаж энэ хичээлийн лабораторын хичээлээр хөгжүүлэх вэб програмын кодыг хувилбаржуулаарай.
Вэб сайтыг бүхлээр хуулах, алс зайнаас вэб сайтын үндсэн хавтсыг удирдахад FTP ашигладаг ба FTP сервер програм суулгаж хэрэглэгчийн эрх, хандах хавтас, түүний тохиргоог зааж өгснөөр FTP клиент програмаас хандан хавтсыг бүрэн удирдаж болно. FileZilla Server болон Client програмуудыг нь суулгаж вэб сайтын үндсэн хавтсыг FTP хандалттай болгоорой.
